<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Pal JSON</title>
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" type="image/x-icon">
    <!-- Dark theme stylesheet loaded by default -->
    <link id="themeStylesheet" rel="stylesheet" href="{{ url_for('static', filename='styles/style.css') }}">
</head>
<body>
    <header>
        <h1>My Pal JSON</h1>
    </header>

    <button id="saveBtn" class="save-button" title="Save API Call">
        <img id="saveIcon" src="{{ url_for('static', filename='images/save.svg') }}" alt="Save">
    </button>
    
    <button id="historyBtn" class="history-button" title="History">
        <img id="historyIcon" src="{{ url_for('static', filename='images/history.svg') }}" alt="History">
    </button>

    <!-- API Request Bar -->
    <div class="api-request-bar">
        <select id="httpMethod" class="http-method-select">
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
        </select>
        <input type="text" id="apiUrl" placeholder="Enter API Endpoint" class="api-url-input">
        <button id="sendBtn" class="send-button">Send</button>
    </div>

    <button id="toggleHeadersBtn" class="toggle-headers-button" title="Toggle Headers">
        <img id="toggleIcon" src="{{ url_for('static', filename='images/eye-slash.svg') }}" 
        data-eye="{{ url_for('static', filename='images/eye.svg') }}"
        data-eye-slash="{{ url_for('static', filename='images/eye-slash.svg') }}"
        alt="Toggle Headers">
    </button>

    <div id="isAuthLbl" class="is-auth-label">IsAuth</div>

    <!-- Headers Grid Section -->
    <div class="headers-section">
        <div class="headers-grid" id="headersGrid">
            <!-- Dynamic rows for header key-value pairs will be added here by JavaScript -->
        </div>
    </div>

    <div class="container">
        <div class="left">
            <div class="tabs-container">
                <button id="requestTab" class="tab active">Request</button>
                <button id="responseTab" class="tab">Response</button>
            </div>
            <textarea id="inputJson" placeholder="Drag and drop or type JSON body here"></textarea>
        </div>
        <div class="middle">
            <button id="prettyBtn">Pretty</button>
            <button id="analyzeBtn">Analyze</button>
            <button id="modelBtn">Model</button>

            <select id="languageSelect" class="language-select">
                <option value="csharp">C#</option>
                <option value="python">Python</option>
                <option value="javascript">Javascript</option>
                <option value="cplusplus">C++</option>
                <option value="java">Java</option>
                <option value="go">Go</option>
            </select>
        </div>
        <div class="right">
            <button id="themeToggleBtn" class="theme-toggle"
                    data-lightstyle-url="{{ url_for('static', filename='styles/lightstyle.css') }}"
                    data-darkstyle-url="{{ url_for('static', filename='styles/style.css') }}"
                    data-sun-icon="{{ url_for('static', filename='images/sun.svg') }}"
                    data-moon-icon="{{ url_for('static', filename='images/moon.svg') }}"
                    title="Toggle Theme">
                <img id="themeIcon" src="{{ url_for('static', filename='images/sun.svg') }}" alt="Toggle Theme">
            </button>
            <div class="output-container">
                <textarea id="outputBox" placeholder="Analyzed output will be displayed here" readonly></textarea>
                <button id="copyBtn" class="copy-button" title="Copy">
                    <img src="{{ url_for('static', filename='images/copy.svg') }}" alt="Copy" class="copy-icon">
                </button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='scripts/validate-json.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/model-json.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/theme-toggle.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/copy-output.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/headers-management.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/headers-toggle.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/send-request.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/tab-switch.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/input-drop.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/make-pretty.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/save-call.js') }}"></script>
</body>
</html>
